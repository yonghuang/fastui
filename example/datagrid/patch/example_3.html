<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
	<head>
		<title>内嵌子表事例</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link href="../../../themes/default/css/ui-main.css" rel="stylesheet" type="text/css" />
		<script src="../../../src/library/FastDev.js"></script>
		<script src="../../../src/library/Query.js"></script>
		<script src="../../../src/library/Dom.js"></script>
		<script src="../../../src/library/Ajax.js"></script>
		<script src="../../../src/library/Event.js"></script>
		<script src="../../../src/library/Browser.js"></script>
		<script src="../../../src/library/Queue.js"></script>
		<script src="../../../src/library/Tools.js"></script>
		<script src="../../../src/library/Library_Patch.js"></script>

		<script src="../../../src/core/ClassManager.js"></script>
		<script src="../../../src/core/EventManager.js"></script>
		<script src="../../../src/core/Base.js"></script>
		<script src="../../../src/core/Template.js"></script>
		<script src="../../../src/core/DataBus.js"></script>
		<script src="../../../src/core/Core_Patch.js"></script>

		<script src="../../../src/data/Proxy.js"></script>
		<script src="../../../src/data/DataSet.js"></script>
		<script src="../../../src/data/Record.js"></script>
		<script src="../../../src/data/Field.js"></script>
		<script src="../../../src/data/Reader.js"></script>
		<script src="../../../src/data/Data_Patch.js"></script>

		<script src="../../../src/core/DomObject.js"></script>
		<script src="../../../src/core/ControlBus.js"></script>
		<script src="../../../src/core/DataBus.js"></script>

		<script src="../../../src/component/Component.js"></script>
		<script src="../../../src/component/list/datagrid/DataGrid.js"></script>
		<script src="../../../src/component/list/datagrid/DataGrid_Patch.js"></script>
		<script src="../../../src/component/list/datagrid/Pagination.js"></script>
		<script src="../../../src/component/list/datagrid/Column.js"></script>
		<script src="../../../src/component/list/datagrid/Thead.js"></script>
		<script src="../../../src/component/Toolbar.js"></script>
		<script src="../../../src/component/form/Button.js"></script>
		<script src="../../../src/component/form/Box.js"></script>
		<script src="../../../src/component/form/TextBox.js"></script>
		<script src="../../../src/component/form/Select.js"></script>
		<script src="../../../src/component/form/DatePicker.js"></script>
		<script type="text/javascript">
			talkweb.Bus.ready({
				items : [{
					classPath : "Components.DataGrid",
					options : {
						// 默认每页显示行数,该数字必须存在于页数选择器列表中，否则会出现显示与实际不匹配的情况
						rows : "5",
						container : "example",
						initSource : "data.jsp",
						toolsBar : "all",
						// 设置上方工具栏有功能按钮
						toolsBtn : "top",
						buttons : ["new", "del", "save", "cancel", "refresh", "moveup-down"],
						bigData : true,
						// fileds用来定义列
						fields : [{
							// 定义列宽
							width : "20%",
							// 定义该列绑定的数据键
							name : "name",
							// 定义列头的文本
							text : "姓名"
						}, {
							width : "10%",
							name : "sex",
							text : "性别"
						}, {
							width : "20%",
							name : "age",
							text : "年龄"
						}, {
							width : "20%",
							name : "date",
							text : "日期"
						}],
						//----以下为内嵌子表配置----
						// 开启子表可用
						childTable : true,
						// 子表数据来源
						childTableSource : "example_3_2.jsp",
						// 展开子表时，将此处配置字段的数据提交至后台作为查询条件
						childTableQueryCond : "name",
						//子表字段配置
						childTableRows : 5,
						childTableFields : [{
							name : "school",
							text : "学校",
							width : "50%"
						}, {
							name : "time",
							text : "入学时间",
							width : "50%"
						}]
					}
				}]
			});

		</script>
	</head>
	<body>

		<div id="example" style="margin: 20px"></div>
		<div style="clear: both; margin-top:20px;">
			此示例为带内嵌子表的数据展示,点击前方+(-)号,可展开(收缩)子表格
		</div>
		<div id="button" style="clear: both; margin-top:20px;"></div>

	</body>
</html>